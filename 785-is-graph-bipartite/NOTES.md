You can also solve this by doing graph coloring.